"use strict";(self.webpackChunkdzitra=self.webpackChunkdzitra||[]).push([[981],{9981:(N,c,a)=>{a.r(c),a.d(c,{PlanModule:()=>D});var p=a(6895),d=a(3456),h=a(933),g=a(3575),u=a(3091),f=a(2548),i=a(4650),b=a(5619),r=a(5938),P=a(3157),S=a(2016);const C=[{path:"list",component:(()=>{class e{constructor(t,n,s){this.http=t,this.router=n,this.dialog=s,this.columnDefinition=[],this.tablePaginationSettings={},this.rowData=[],this.tablePaginationSettings.enablePagination=!0,this.tablePaginationSettings.pageIndex=1,this.tablePaginationSettings.pageSize=5,this.tablePaginationSettings.pageSizeOptions=[5,10,15],this.tablePaginationSettings.showFirstLastButtons=!0,this.columnDefinition=[{name:"planname",displayName:"Plan Name",disableSorting:!1},{name:"usercount",displayName:"User Count",disableSorting:!1},{name:"dayscount",displayName:"Days Count",disableSorting:!1},{name:"remainder1",displayName:"Reminder 1",disableSorting:!1},{name:"remainder2",displayName:"Reminder 2",disableSorting:!1},{name:"plantypename",displayName:"Plan Type",disableSorting:!1},{name:"price",displayName:"Price",disableSorting:!1},{name:"actiontwo",displayName:"Action",disableSorting:!1,isAction:1}]}ngOnInit(){this.initData()}initData(){this.http.get(`/plan/active/createdAt/-1/${this.tablePaginationSettings.pageIndex}/${this.tablePaginationSettings.pageSize}?`).subscribe(t=>{this.rowData=t.data.list,this.tablePaginationSettings.totalElements=t.data.pagination.total})}onNotifySelected(t){console.log(t,"selected")}isPageChanged(t){this.tablePaginationSettings.pageSize=t.pageSize,this.tablePaginationSettings.pageIndex=t.pageIndex+1,this.initData()}openDialogueModal(t){"add"==t.method?this.dialog.open(g.x,{width:"60%"}).afterClosed().subscribe(s=>{1==s&&(this.initData(),this.dialog.open(u.e,{data:{title:"New Plan Added",text:"Congratulations! You've just added a new Plan.",Btn:"Okay",isSuccess:!0,showOnly:!0},width:"35%"}).afterClosed().subscribe(m=>{}))}):"edit"==t.method?this.dialog.open(g.x,{data:{id:t.id},width:"60%"}).afterClosed().subscribe(o=>{1==o&&(this.initData(),this.dialog.open(u.e,{data:{title:"Plan Edited",text:"Plan editted successfully",Btn:"Okay",isSuccess:!0,showOnly:!0},width:"35%"}).afterClosed().subscribe(R=>{}))}):"delete"==t.method?this.dialog.open(f.y,{data:{rowId:t.id,dialogueTitle:"Are you sure to Delete?",CloseBtn:"Cancel",confirmBtn:"Delete",collectionName:"plan"}}).afterClosed().subscribe(o=>{1==o&&(this.initData(),this.dialog.open(u.e,{data:{title:"Plan deleted",text:"Plan deleted successfully",Btn:"Okay",isSuccess:!0,showOnly:!0},width:"35%"}).afterClosed().subscribe(R=>{}))}):"view"==t.method&&this.dialog.open(g.x,{data:{id:t.id,isReadonly:!0},width:"60%"})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(b.h),i.Y36(d.F0),i.Y36(r.uw))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-list"]],decls:2,vars:7,consts:[[3,"rowData","enableCheckbox","allowMultiSelect","tableAddBtn","tableHeading","sqPaginationConfig","sqColumnDefinition","getSelectedRows","PageChanged","openmodal"]],template:function(t,n){1&t&&(i._UZ(0,"app-counters"),i.TgZ(1,"app-custom-table",0),i.NdJ("getSelectedRows",function(o){return n.onNotifySelected(o)})("PageChanged",function(o){return n.isPageChanged(o)})("openmodal",function(o){return n.openDialogueModal(o)}),i.qZA()),2&t&&(i.xp6(1),i.Q6J("rowData",n.rowData)("enableCheckbox",!0)("allowMultiSelect",!0)("tableAddBtn","Add Plan")("tableHeading","Plans")("sqPaginationConfig",n.tablePaginationSettings)("sqColumnDefinition",n.columnDefinition))},dependencies:[P.M,S.C]}),e})(),canActivate:[h.a]}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[d.Bz.forChild(C),d.Bz]}),e})();var w=a(1052);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[p.ez,y,w.g,r.Is]}),e})()}}]);