"use strict";(self.webpackChunkdzitra=self.webpackChunkdzitra||[]).push([[484],{7484:(v,r,i)=>{i.r(r),i.d(r,{CustomerModule:()=>D});var p=i(6895),d=i(3456),c=i(933),u=i(8265),g=i(3091),h=i(3871),o=i(4650),f=i(5619),m=i(5938),C=i(3157),b=i(2016);const S=[{path:"list",component:(()=>{class e{constructor(t,a,n){this.http=t,this.router=a,this.dialog=n,this.columnDefinition=[],this.tablePaginationSettings={},this.rowData=[],this.tablePaginationSettings.enablePagination=!0,this.tablePaginationSettings.pageIndex=1,this.tablePaginationSettings.pageSize=5,this.tablePaginationSettings.pageSizeOptions=[5,10,15],this.tablePaginationSettings.showFirstLastButtons=!0,this.columnDefinition=[{name:"lead_name",displayName:"Lead Name",disableSorting:!1},{name:"onboarded_date",displayName:"On Boarded Date",disableSorting:!1,isDate:!0},{name:"subscription_validity",displayName:"Subscription Validity",disableSorting:!1,isDate:!0},{name:"remind_before",displayName:"Reminder Days",disableSorting:!1},{name:"plan_name",displayName:"Plan Name",disableSorting:!1},{name:"purchase_id",displayName:"Purchase Id",disableSorting:!1},{name:"dzitrauser_display_name",displayName:"Converted By",disableSorting:!1}]}ngOnInit(){this.initData()}initData(){this.http.get(`/customer/list/createdAt/-1/${this.tablePaginationSettings.pageIndex}/${this.tablePaginationSettings.pageSize}?`).subscribe(t=>{this.rowData=t.data.list,this.tablePaginationSettings.totalElements=t.data.pagination.total})}onNotifySelected(t){console.log(t,"selected")}isPageChanged(t){this.tablePaginationSettings.pageSize=t.pageSize,this.tablePaginationSettings.pageIndex=t.pageIndex+1,this.initData()}openDialogueModal(t){"add"==t.method?this.dialog.open(u.I,{width:"60%"}).afterClosed().subscribe(n=>{1==n&&(this.initData(),this.dialog.open(g.e,{data:{title:"New Customer Added",text:"Congratulations! You've just added a new customer to your pipeline.",Btn:"Okay",isSuccess:!0,showOnly:!0},width:"35%"}).afterClosed().subscribe(w=>{}))}):"edit"==t.method?this.dialog.open(u.I,{data:{rowId:t.id}}).afterClosed().subscribe(s=>{1==s&&(this.initData(),this.dialog.open(g.e,{data:{title:"Customer Edited",text:"Customer updated successfully",Btn:"Okay",isSuccess:!0,showOnly:!0},width:"35%"}).afterClosed().subscribe(R=>{}))}):"view"==t.method&&this.dialog.open(u.I,{data:{id:t.id,isReadonly:!0},width:"60%"})}openLeadinfo(t){this.dialog.open(h.n,{data:{id:t.lead_id,isInfoscreen:!0},width:"60%"})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(f.h),o.Y36(d.F0),o.Y36(m.uw))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-list"]],decls:2,vars:7,consts:[[3,"rowData","enableCheckbox","allowMultiSelect","tableAddBtn","tableHeading","sqPaginationConfig","sqColumnDefinition","getSelectedRows","PageChanged","openmodal","openlead"]],template:function(t,a){1&t&&(o._UZ(0,"app-counters"),o.TgZ(1,"app-custom-table",0),o.NdJ("getSelectedRows",function(s){return a.onNotifySelected(s)})("PageChanged",function(s){return a.isPageChanged(s)})("openmodal",function(s){return a.openDialogueModal(s)})("openlead",function(s){return a.openLeadinfo(s)}),o.qZA()),2&t&&(o.xp6(1),o.Q6J("rowData",a.rowData)("enableCheckbox",!0)("allowMultiSelect",!0)("tableAddBtn","Add Customer")("tableHeading","Customers")("sqPaginationConfig",a.tablePaginationSettings)("sqColumnDefinition",a.columnDefinition))},dependencies:[C.M,b.C]}),e})(),canActivate:[c.a]}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[d.Bz.forChild(S),d.Bz]}),e})();var P=i(1052);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez,y,m.Is,P.g]}),e})()}}]);